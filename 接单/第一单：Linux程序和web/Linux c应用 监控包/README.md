# 网络数据包监控工具

这是一个基于Linux系统的网络数据包监控工具，可以捕获并分析网络接口上的数据包。

## 功能特点

- 支持多种协议分析（Ethernet, IP, TCP, UDP, ICMP, ARP）
- 实时统计数据包信息
- 网络设备发现
- 灵活的数据包过滤
- 十六进制数据包内容显示

## 编译安装

### 系统要求

- Linux操作系统
- GCC编译器
- Make工具

### 编译步骤

1. 克隆或下载源代码
2. 进入项目目录
3. 执行编译命令：
```bash
make
```

编译成功后会在当前目录生成可执行文件 `ipdump`。

## 使用方法

### 基本语法

```bash
sudo ./ipdump [-aedh] [-i interface] [-p protocol]
```

### 命令行选项

- `-a`: 显示所有数据包（包括未知协议）
- `-e`: 显示以太网帧头部信息
- `-d`: 以十六进制格式显示数据包内容
- `-h`: 显示帮助信息
- `-i`: 指定要监听的网络接口（默认：eth0）
- `-p`: 指定要过滤的协议（可选：arp,ip,icmp,tcp,udp）

### 使用示例

1. 监控所有TCP数据包：
```bash
sudo ./ipdump -i eth0 -p tcp
```

2. 显示完整的数据包信息：
```bash
sudo ./ipdump -i eth0 -aed
```

3. 只监控ARP和ICMP数据包：
```bash
sudo ./ipdump -i eth0 -p "arp icmp"
```

### 注意事项

- 需要root权限（sudo）才能运行
- 确保指定的网络接口存在
- 使用Ctrl+C可以优雅退出程序

## 输出说明

程序会显示：
- 数据包头部详细信息
- 实时统计信息
- 发现的网络设备
- 可选的十六进制数据内容

## 故障排除

1. 如果程序无法启动，请检查：
   - 是否有root权限
   - 网络接口名称是否正确
   - 系统防火墙设置

2. 如果没有数据包输出，请检查：
   - 网络接口是否正常工作
   - 过滤器设置是否正确
